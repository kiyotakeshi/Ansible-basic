### ロールの活用(WordPressの構築)

- 構成
    - LBとoutsideは外部IPを持つ(LBしか使わないかも)

```
10.146.0.7 inside1
10.146.0.8 inside2

10.146.0.9 outside1
10.146.0.10 outside2
10.146.0.11 outside3

10.146.0.12 lb1
10.146.0.12 lb2

```

- DBは Galera Clusterでクラスタ化し可用性を担保

- ソフトウェアロードバランサーの HAProxy とVRRPによるVIPを提供する Keepalived を利用
    - HAProxyはL7の負荷分散管理を実行
    - KeepalivedはL4のデータ送信のフェイルオーバーを実現

---

